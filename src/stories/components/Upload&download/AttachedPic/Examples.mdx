import { Meta, Title, Source } from '@storybook/addon-docs';
import { AttachedPic } from '../../../../lib';
import * as AttachedPicStories from './AttachedPic.stories.tsx';

<Title>AttachedPic Component</Title>
<Meta of={AttachedPicStories} />

The `AttachedPic` component is used to display an attached image with options to change, delete, or close the preview.

## Example Usage

### Basic Style 
 <AttachedPic
    headerLabel="Preview"
    src={"https://images.pexels.com/photos/2379005/pexels-photo-2379005.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500"}
    changeLabel="Change"
    deleteLabel="Delete"
    deleteButtonClick={() => { }}
    changeButtonClick={() => { }}
    closeButtonClick={() => {}}
  />
    
<Source code={`
 <AttachedPic
    headerLabel="Preview"
    src={"your img src"}
    changeLabel="Change"
    deleteLabel="Delete"
    deleteButtonClick={() => {}}
    changeButtonClick={() => { }}
    closeButtonClick={() => {}}
  />
`} />

## Usage in Application

```jsx
import { AttachedPic, PicContainer, convertImageFileToDataUrl } from "torch-glare";
import { useState, ChangeEvent } from "react";

function App() {

    const [imageSrc, setImageSrc] = useState<string>("");
    const [imagePreviewActive, setImagePreviewActive] = useState<boolean>(false);

    const handleFileChange = (event: ChangeEvent<HTMLInputElement>) => {
        const file = event.target.files?.[0] ?? null;
        convertImageFileToDataUrl(file, setImageSrc);
    };

  return (
        <section>

            {imagePreviewActive || imageSrc ? (
                <AttachedPic
                    headerLabel="Preview"
                    src={imageSrc}
                    changeLabel="Change"
                    deleteLabel="Delete"
                    deleteButtonClick={() => {
                        setImageSrc("")
                        setImagePreviewActive(false)
                    }}
                    changeButtonClick={() => {
                        setImageSrc("")
                        setImagePreviewActive(false)
                    }}
                    closeButtonClick={() => setImagePreviewActive(false)}
                />
            ) : (
                <PicContainer
                    {...props}
                    onChange={handleFileChange}
                    id="test"
                    selectedImg={imageSrc}
                    ExpandImageClick={() => setImagePreviewActive(true)}
                />
            )
            }
        </section>
    );
}

export default App;
```