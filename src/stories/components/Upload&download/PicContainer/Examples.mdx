import { Meta, Title, Source } from '@storybook/addon-docs';
import { PicContainer } from '../../../../lib';
import * as PicContainerStories from './PicContainer.stories.tsx';

<Title>PicContainer Component</Title>
<Meta of={PicContainerStories} />

This component is an input-type file used to upload attached images and provides a container for image uploads with optional image preview and expansion functionality.

## Example Usage

### Basic Style 
<PicContainer
  id="test"
  selectedImg={""}
  ExpandImageClick={() => ''}
/>
<Source code={`
<PicContainer
  id="test"
  selectedImg={null}
/>
`} />


### Uploaded Style
<PicContainer
  id="test"
  selectedImg={"https://images.pexels.com/photos/2379005/pexels-photo-2379005.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500"}
  ExpandImageClick={() => ''}
/>
<Source code={`
<PicContainer
  id="test"
  selectedImg={img}
  ExpandImageClick={showPreviewCard}
/>
`} />



## Usage in Application

```jsx
import { AttachedPic, PicContainer, convertImageFileToDataUrl } from "torch-glare";
import { useState, ChangeEvent } from "react";

function App() {

  const [imageSrc, setImageSrc] = useState<string>("");
  const [imagePreviewActive, setImagePreviewActive] = useState<boolean>(false);
  const handleFileChange = (event: ChangeEvent<HTMLInputElement>) => {
    const file = event.target.files?.[0] ?? null;
    convertImageFileToDataUrl(file, setImageSrc)
  }

  return (
    <div>
      <PicContainer 
         onChange={handleFileChange} 
         id={"test"}
         selectedImg={imageSrc} 
         ExpandImageClick={() => setImagePreviewActive(true)} />
      {
      imagePreviewActive && 
        <AttachedPic 
           headerLabel="Preview" 
           src={imageSrc} changeLabel="Change" 
           deleteLabel="Delete" 
           deleteButtonClick={() => setImageSrc("")}
           changeButtonClick={() => setImageSrc("")} 
           closeButtonClick={() => setImagePreviewActive(false)}
       />
       }
    </div>
  );
}

export default App;
```